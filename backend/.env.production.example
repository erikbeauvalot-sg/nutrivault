# ===================================
# NutriVault Backend - Production
# ===================================

# Application
NODE_ENV=production
PORT=3001
API_BASE_URL=https://api.yourdomain.com

# Database Configuration
DB_HOST=your-db-host.region.rds.amazonaws.com
DB_PORT=5432
DB_NAME=nutrivault_prod
DB_USER=nutrivault_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Enable SSL for database connection
DB_SSL=true

# Connection Pool Settings
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Query Timeouts
DB_STATEMENT_TIMEOUT=30000
DB_IDLE_TIMEOUT=30000

# JWT Configuration
JWT_SECRET=CHANGE_ME_MINIMUM_32_CHARACTERS_RANDOM_STRING
JWT_REFRESH_SECRET=CHANGE_ME_DIFFERENT_32_CHARACTERS_STRING
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Security
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf
UPLOAD_PATH=./uploads

# Email Configuration (Optional - if using email features)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=YOUR_SENDGRID_API_KEY
SMTP_FROM=noreply@yourdomain.com
SMTP_SECURE=false

# Logging
LOG_LEVEL=info
LOG_FILE=logs/production.log

# Monitoring & Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
SENTRY_ENVIRONMENT=production

# AWS Configuration (if using S3 for file storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_S3_BUCKET=nutrivault-uploads-prod

# Backup Configuration
AWS_S3_BACKUP_BUCKET=nutrivault-backups-prod

# Notification Settings
NOTIFY_EMAIL=admin@yourdomain.com
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# CORS Settings
CORS_ORIGIN=https://yourdomain.com

# API Documentation (disable in production)
ENABLE_SWAGGER=false

# ===================================
# Security Checklist
# ===================================
# [ ] All passwords changed from defaults
# [ ] JWT secrets are random and unique (min 32 chars)
# [ ] Database credentials are strong
# [ ] SMTP credentials configured
# [ ] AWS credentials configured
# [ ] Sentry DSN configured
# [ ] CORS origin set correctly
# [ ] SSL/TLS enabled for database
# [ ] File permissions set to 600
