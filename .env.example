# ================================================
# NutriVault Environment Configuration
# ================================================
# Copy this file to .env and update the values
# Command: cp .env.example .env
# ================================================

# ================================================
# APPLICATION
# ================================================
NODE_ENV=development
PORT=3001

# Timezone for date/time display and storage
# Uses IANA timezone format (e.g., Europe/Paris, America/New_York)
TZ=Europe/Paris

# Public URL for the frontend (used in email links)
# In production, set this to your public domain
FRONTEND_URL=http://localhost:5173

# ================================================
# DATABASE CONFIGURATION
# ================================================
# Choose ONE database type by setting DB_DIALECT

# --- Option 1: SQLite (Recommended for development) ---
DB_DIALECT=sqlite
DB_STORAGE=./backend/data/nutrivault_dev.db

# --- Option 2: PostgreSQL (Uncomment for production) ---
# DB_DIALECT=postgres
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=nutrivault
# DB_USER=nutrivault_user
# DB_PASSWORD=your-secure-postgres-password
# DB_SSL=false

# ================================================
# AUTHENTICATION & SECURITY
# ================================================
# IMPORTANT: Change these secrets in production!
# Secrets MUST be at least 32 characters long
# Generate with: openssl rand -base64 32

JWT_SECRET=change-this-secret-must-be-32-chars-minimum-example-key
REFRESH_TOKEN_SECRET=change-refresh-secret-32-chars-minimum-example-key

# Password hashing rounds (10-12 recommended)
BCRYPT_ROUNDS=12

# ================================================
# CORS CONFIGURATION
# ================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ================================================
# EMAIL CONFIGURATION (Gmail SMTP)
# ================================================
# Email service for sending invoices and document notifications
# Setup instructions for Gmail:
# 1. Enable 2-factor authentication on your Gmail account
# 2. Generate an App Password: https://myaccount.google.com/apppasswords
# 3. Use the generated App Password (not your regular password)

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM_NAME=NutriVault

# ================================================
# AI PROVIDERS (Optional - at least one recommended)
# ================================================
# Anthropic Claude
# ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI ChatGPT
# OPENAI_API_KEY=your-openai-api-key

# Mistral AI
# MISTRAL_API_KEY=your-mistral-api-key

# Ollama (Local AI - Free, runs on your own server)
# Install: curl -fsSL https://ollama.com/install.sh | sh
# Pull model: ollama pull llama3.2
# Start: ollama serve
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.2

# ================================================
# NOTES
# ================================================
# For production deployment:
# 1. Set NODE_ENV=production
# 2. Generate secure JWT secrets (32+ characters)
# 3. Configure database (SQLite or PostgreSQL)
# 4. Update ALLOWED_ORIGINS with your domain(s)
# 5. Never commit .env to version control!
